<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pomodoro Timer</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f8d7da; /* Light red background color */
        }
        #timer-container {
            text-align: center;
            margin-top: 50px;
        }
        #tomato-image {
            max-width: 100%;
            height: auto;
        }
        #stats-container {
            text-align: left;
            margin-top: 50px;
        }
        #session-count, #break-count {
            font-size: 18px;
            margin-bottom: 10px;
        }
        #session-count span, #break-count span {
            font-weight: bold;
        }
        #title {
            color: #28a745; /* Light green title color */
        }
    </style>
</head>
<body>

<div class="container">
    <div class="row">
        <div class="col">
            <h1 id="title">Pomodoro Timer</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6" id="timer-container">
            <img height="300px" width="300px" id="tomato-image" src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExcGMzYWFpY2pmNTlqZ3gxam0zYnk1b3RyNHU2bmhqa2I4NmM3aXA5NiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/WSxVrga7NqKlkmC13M/giphy.gif" alt="Tomato GIF">
            <h2 id="timer">25:00</h2>
            <button id="startButton" class="btn btn-success" onclick="startTimer()">Start</button>
            <button id="resetButton" class="btn btn-danger" onclick="resetTimer()">Reset</button>
        </div>
        <div class="col-lg-6" id="stats-container">
            <div id="session-count">
                <div>25-Minute Sessions Completed: <span id="sessionCount">0</span></div>
            </div>
            <div id="break-count">
                <div>5-Minute Breaks Taken: <span id="breakCount">0</span></div>
            </div>
        </div>
    </div>
</div>

<script>
    let timer;
    let timeLeft = 25 * 60; // Initial time in seconds (25 minutes)
    let sessionCount = 0;
    let breakCount = 0;

    function startTimer() {
        timer = setInterval(updateTimer, 1000);
        document.getElementById("startButton").disabled = true;
    }

    function updateTimer() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        document.getElementById("timer").innerText = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;

        if (timeLeft === 0) {
            clearInterval(timer);
            document.getElementById("startButton").disabled = false;
            if (sessionCount % 4 === 0) {
                startBreak();
            } else {
                sessionCount++;
                updateSessionCount();
            }
        } else {
            timeLeft--;
        }
    }

    function resetTimer() {
        clearInterval(timer);
        timeLeft = 2 * 60; // Reset to 25 minutes
        document.getElementById("timer").innerText = "25:00";
        document.getElementById("startButton").disabled = false;
    }

    function startBreak() {
        timeLeft = 1 * 60; // Set break time to 5 minutes
        breakCount++;
        updateBreakCount();
        timer = setInterval(updateBreakTimer, 1000);
        document.getElementById("startButton").disabled = true;
    }

    function updateBreakTimer() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        document.getElementById("timer").innerText = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;

        if (timeLeft === 0) {
            clearInterval(timer);
            document.getElementById("startButton").disabled = false;
            startTimer(); // Start the next Pomodoro session
        } else {
            timeLeft--;
        }
    }

    function updateSessionCount() {
        document.getElementById("sessionCount").innerText = sessionCount;
    }

    function updateBreakCount() {
        document.getElementById("breakCount").innerText = breakCount;
    }
</script>

</body>
</html>
